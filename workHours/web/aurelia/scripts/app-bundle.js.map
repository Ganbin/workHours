{"version":3,"sources":["app.js","environment.js","home.js","main.js","noViewPort.js","resources/index.js","services/Auth.js","worktime/form.js","worktime/grid.js","worktime/worktimeSection.js","resources/elements/datePicker.js","resources/elements/navBar.js","resources/elements/pagination.js","resources/value-converters/dateFormat.js","resources/value-converters/millisToHours.js","resources/value-converters/minutesToHours.js","resources/value-converters/truncate.js","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/app.html","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/home.html","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/worktime/form.html","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/worktime/grid.html","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/worktime/worktimeSection.html","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/resources/elements/datePicker.html","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/resources/elements/navBar.html","/Users/Gabriel/Sites/Wakanda/workHours/workHours/web/aurelia/src/resources/elements/pagination.html"],"names":["App","auth","configureRouter","config","router","title","addAuthorizeStep","AuthorizeStep","map","route","redirect","name","moduleId","nav","inject","run","routingContext","next","logged","cancel","debug","testing","Home","wakanda","Auth","login","directory","then","setCurrentUser","alert","catch","e","logout","console","log","err","doSomething","getCatalog","result","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","bridge","useAll","start","setRoot","NoViewPort","Element","element","attached","detached","globalResources","self","reset","user","getCurrentUser","resolveCb","refuseCb","currentUser","message","promise","Form","activate","params","ID","id","ds","getEntity","WorkTime","find","worktime","navigateBack","Grid","PAGE_SIZE","showFirstLast","editTime","navigate","getAll","query","filter","pageSize","evt","worktimes","pageChanged","detail","worktimeSection","DatePickerCustomElement","defaultBindingMode","twoWay","oneTime","on","$","pickadate","selectMonths","selectYears","NavBarCustomElement","setActive","tab","activeTab","isActive","PaginationCustomElement","activePage","overallPageLinks","showPrevNext","showPageLinks","visiblePageLinks","DateFormatValueConverter","toView","value","format","MillisToHoursValueConverter","millis","undefined","date","minutes","Math","floor","MinutesToHoursValueConverter","TruncateValueConverter","text","length","end","isNaN","String","substring"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {Auth} from './services/Auth';\nimport {Redirect} from 'aurelia-router';\n\nexport function App(auth) {\n    this.configureRouter = (config, router) => {\n        this.router = router;\n        config.title = 'Work Times';\n        config.addAuthorizeStep(AuthorizeStep);\n        config.map([\n            {route: '', redirect: 'home'},\n            {route: 'home', title: 'Home', name: 'home', moduleId: './home', nav: true },\n            {route: 'worktime', title: 'Worktime', name: 'worktime', moduleId: './worktime/worktimeSection', nav: true}\n        ]);\n    };\n    this.auth = auth;\n}\n\nApp.inject = [Auth];\n\nfunction AuthorizeStep(auth, router) {\n    this.auth = auth;\n\n    this.run = (routingContext, next) => {\n        if (!this.auth.logged && routingContext.config.name !== 'home') {\n            return next.cancel(new Redirect('home'));\n        }\n        return next();\n    };\n}\nAuthorizeStep.inject = [Auth];\n","export default {\n  debug: true,\n  testing: true\n};\n","import {Auth} from './services/Auth';\n// import {inject} from 'aurelia-framework';\nimport {WakandaClient} from 'wakanda-client';\n\nconst wakanda = new WakandaClient('http://127.0.0.1:8081');\n// @inject(Auth)\n// export class Home{\n//     currentPage\n//     constructor(Auth){\n//         var self = this;\n//         debugger;\n//         self.user = Auth.promise.then(function(result){\n            // if(result !== false){\n            //     self.user = result;\n            // }\n//         });\n//     }\n// }\n\nexport function Home(Auth) {\n    this.login = function () {\n        wakanda.directory.login('ganbin', '1234').then(function () {\n            //User is logged in\n            Auth.setCurrentUser();\n            alert('login');\n        }).catch(function (e) {\n            //Login failed. Maybe bad credentials?\n            Auth.setCurrentUser();\n            alert('not login');\n        });\n    };\n\n    this.logout = function () {\n        wakanda.directory.logout().then(function () {\n            Auth.setCurrentUser();\n            console.log('logout.');\n        }).catch(function (err) {\n            Auth.setCurrentUser();\n            console.log('logout error.');\n        });\n    };\n\n    function doSomething() {\n        wakanda.getCatalog().then(function (result) {\n                //debugger;\n        });\n    }\n\n    doSomething();\n}\nHome.inject = [Auth];\n","import environment from './environment';\n\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n  aurelia.use.plugin('aurelia-materialize-bridge', bridge => bridge.useAll() );\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import { inlineView, inject } from 'aurelia-framework';\n\n@inlineView('<template><span></span></template>')\n@inject(Element)\nexport class NoViewPort {\n  constructor(element) {\n    this.element = element;\n  }\n\n  attached() {\n     // debugger;\n    //this.element.classList.add('aurelia-hide');\n  }\n\n  detached() {\n    //this.element.classList.remove('aurelia-hide');\n  }\n}\n","export function configure(config) {\n    config.globalResources(['./elements/navBar',\n                            './elements/datePicker',\n                            './value-converters/millisToHours',\n                            './value-converters/minutesToHours',\n                            './value-converters/dateFormat',\n                            './value-converters/truncate'\n                        ]);\n}\n","import {WakandaClient} from 'wakanda-client';\n\nconst wakanda = new WakandaClient('http://127.0.0.1:8081');\n// let authInstance = null;\n\nexport function Auth() {\n    const self = this;\n\n    // if (!authInstance) {\n    //     authInstance = this;\n    // }\n\n    function reset() {\n        self.user = {'fullName': 'Guest'};\n        self.logged = false;\n    }\n\n    function getCurrentUser(resolveCb, refuseCb) {\n        wakanda.directory.currentUser()\n        .then(function (user) {\n            console.log('user logged in.');\n            self.user = user;\n            self.logged = true;\n            //debugger;\n            resolveCb(user);\n        }, function (err) {\n            console.log('user not logged in.');\n            reset();\n            refuseCb(err.message);\n        });\n    }\n\n    self.setCurrentUser = function () {\n        self.promise = new Promise(getCurrentUser);\n    };\n\n\n    reset();\n    self.setCurrentUser();\n    //return authInstance;\n}\n","import {WakandaClient} from \"wakanda-client\";\nimport {AppRouter} from 'aurelia-router';\n\nconst wakanda = new WakandaClient('http://127.0.0.1:8081');\n\nexport function Form(router) {\n    //const self = this;\n    this.router = router;\n    this.activate = (params) => {\n        this.ID = params.id;\n        wakanda.getCatalog().then((ds) => {\n            /**\n             * Get the entity from the server with the given ID\n             * @param  {number} ID ID of the worktime to get\n             * @return {null}    No return\n             */\n            this.getEntity = (ID) => {\n                ds.WorkTime.find(ID).then((worktime) => {\n                    this.worktime = worktime;\n                    console.log('test',worktime);\n                }).catch((err) => {\n                });\n            };\n\n            this.getEntity(this.ID);\n        });\n    };\n\n    this.navigateBack = () => {\n        this.router.navigateBack();\n    };\n}\n\nForm.inject = [AppRouter];\n","import {WakandaClient} from 'wakanda-client';\nimport {AppRouter} from 'aurelia-router';\nimport {Auth} from 'services/Auth';\nconst wakanda = new WakandaClient('http://127.0.0.1:8081');\nconst PAGE_SIZE = 5;\n\nexport function Grid(auth, router) {\n    const self = this;\n    this.auth = auth;\n    this.showFirstLast = true;\n    this.router = router;\n    this.route = 'worktime';\n  // self.clientName = 'tous les clients';\n  // self.showDates = false;\n  // self.showUser = false;\n  // self.workTimes = [];\n  // //self.userName = Session.userFullName;\n  //\n  // //self.formLoaded = $state.current.url === '/form' ? false : true;\n\n\n    function editTime(ID) {\n        this.router.navigate(this.route + '/' + ID);\n    }\n    this.editTime = editTime;\n\n    wakanda.getCatalog().then((ds) => {\n        /**\n         * Get all worktimes\n         * @return no return but it affect the entities from the result to a worktime array\n         */\n        self.getAll = (start) => {\n            ds.WorkTime.query({\n                filter: 'ID >= 0',\n                pageSize: PAGE_SIZE,\n                start:start\n            }).then((evt) => {\n                self.worktimes = evt;\n            }).catch((err) => {\n            });\n        };\n\n        self.pageChanged = (e) => {\n            self.getAll(PAGE_SIZE*(e.detail-1));\n        };\n\n        self.getAll(0);\n    });\n  //\n  //   var getAll = function(options) {\n  //       ds.WorkTime.query(options).then(function(evt) {\n  //         self.workTimes = evt.entities;\n  //         //self.collValueNow = evt.result.length;\n  //         //self.collValueMax = evt.result.$totalCount;\n  //         //self.collValuePercent = Math.round((self.collValueNow / self.collValueMax) * 100);\n  //\n  //         //sharedData.setData('workTimes', self.workTimes);\n  //         //self.canGetMore = (self.workTimes.length < self.workTimes.$totalCount) ? true : false;\n  //       }, function(err) {\n  //         //sharedData.prepForBroadcast('logout');\n  //       });\n  //     },\n  //\n  //     getMore = function() {\n  //       self.workTimes.more().then(function(evt) {\n  //         //self.collValueNow = evt.result.length;\n  //         //self.collValueMax = evt.result.$totalCount;\n  //         //self.collValuePercent = Math.round((self.collValueNow / self.collValueMax) * 100);\n  //         //self.canGetMore = (self.workTimes.length < self.workTimes.$totalCount) ? true : false;\n  //       }, function(err) {\n  //         //sharedData.prepForBroadcast('logout');\n  //       });\n  //     },\n  //\n  //     editTime = function(ID) {\n  //       /*self.goToState('app.form.edit', {\n  //         ID: ID\n  //       });\n  //       self.formLoaded = true;*/\n  //     },\n  //\n  //     removeTime = function(evt) {\n  //       /*alertify.confirm(\"Do you want to delete this item?\", function() {\n  //         sharedData.prepForBroadcast({\n  //           \"action\": \"removeTime\",\n  //           \"entity\": evt.workTime\n  //         });\n  //       }, function() {\n  //         // user clicked \"cancel\"\n  //       });*/\n  //     },\n  //\n  //     addWorkTime = function() {\n  //       /*self.goToState('app.form.add');\n  //       self.formLoaded = true;*/\n  //     };\n  //\n  //   self.getAll = getAll;\n  //   self.getMore = getMore;\n  //   self.editTime = editTime;\n  //   self.removeTime = removeTime;\n  //   self.addWorkTime = addWorkTime;\n  //\n  //   getAll({filter:\"ID>0\"});\n  // });\n}\nGrid.inject = [Auth, AppRouter];\n","/**\n* The shell for the orders section of the application.  Will contain either\n* the order-list or order page.\n*/\nexport class worktimeSection {\n    configureRouter(config, router) {\n        config.map([\n            { route: '',    moduleId: './grid', nav: false, title: '' },\n            { route: ':id', moduleId: './form',      nav: false, title: '' }\n        ]);\n    }\n}\n","import {bindable, bindingMode, decorators} from 'aurelia-framework';\n\nexport const DatePickerCustomElement = decorators(\n    bindable({ name: 'date', defaultBindingMode: bindingMode.twoWay }),\n    bindable({ name: 'ID', defaultBindingMode: bindingMode.oneTime }),\n    bindable({ name: 'label', defaultBindingMode: bindingMode.oneTime })\n).on(class {\n    constructor() {\n\n    }\n    attached() {\n        $('.datepicker').pickadate({\n            selectMonths: true, // Creates a dropdown to control month\n            selectYears: 3 // Creates a dropdown of 15 years to control year\n        });\n    }\n});\n","export function NavBarCustomElement() {\n    const self = this;\n\n    self.setActive = function (tab) {\n        self.activeTab = tab;\n    };\n    self.isActive = function (tab) {\n        if (tab === this.activeTab) {\n            return true;\n        }\n        return false;\n    };\n}\n","export function PaginationCustomElement() {\n    const self = this;\n\n    self.activePage = 1;\n    self.overallPageLinks = 200;\n    self.showFirstLast = true;\n    self.showPrevNext = true;\n    self.showPageLinks = true;\n    self.visiblePageLinks = '16';\n\n    self.setActive = function (tab) {\n        self.activeTab = tab;\n    };\n}\n","import moment from 'moment';\n\nexport class DateFormatValueConverter {\n  toView(value, format) {\n     //  debugger;\n    return moment(value).format(format);\n  }\n}\n","export class MillisToHoursValueConverter {\n    toView(millis) {\n        if (millis === undefined) {\n            return '0';\n        }\n        let date;\n        const minutes = millis / 1000 / 60;\n        date = (((Math.floor(millis / 60)) < 10) ? ('0' + (Math.floor(minutes / 60))) : (Math.floor(minutes / 60))) + ':' + (((minutes % 60) < 10) ? ('0' + (minutes % 60)) : (minutes % 60));\n        return date;\n    }\n}\n","export class MinutesToHoursValueConverter {\n  toView(minutes) {\n      var date = (((Math.floor(minutes/60)) < 10) ? (\"0\" + (Math.floor(minutes/60))) : (Math.floor(minutes/60))) + ':' + (((minutes%60) < 10) ? (\"0\" + (minutes%60)) : (minutes%60));\n      return date;\n  }\n}\n","export class TruncateValueConverter {\n  toView(text, length, end) {\n      if(text !== undefined && text !== null) {\n          if(isNaN(length)) {\n              length = 10;\n          }\n          end = end || \"...\";\n          if(text.length <= length || text.length - end.length <= length) {\n              return text;\n          } else {\n              return String(text).substring(0, length - end.length) + end;\n          }\n      }\n  };\n}\n",null,null,null,null,null,null,null,null],"sourceRoot":"../src"}