<template>
    <div md-pushpin="top: 110; offset: 20;" class="left">
      <a md-button="large: true; floating: true" md-waves class="primary" click.delegate="navigateBack()"><i class="material-icons">navigate_before</i></a>
    </div>
    <div class="right fixed-right" md-pushpin="top: 110; offset: 20;">
      <div class="">
        <button type="button" md-button="large: true" md-waves class="accent" click.delegate="save()"><i class="material-icons">save</i></button>
      </div>
    </div>

  <div class="container row m-t-20">
    <form submit.delegate="save()">
      <div class="row">
        <div class="col s6">
          <h4 class="header">Edit</h4>
        </div>
      </div>
      <md-card md-title="Client">
        <div class="row">
          <div class="col s12 m6">
            <select md-select="label: Client" value.two-way="selectedClient & validate" md-select.ref="clientSelect">
              <option value="" disabled selected>Select a client...</option>
              <option repeat.for="client of clients" value.bind="client.ID">${client.name}</option>
            </select>
          </div>
          <div class="col s12 m6">
            <select md-select="disabled.bind: disableCategorySelect; label: Category" value.two-way="selectedCategory & validate" md-select.ref="categorySelect">
              <option value="" disabled selected>Select a category...</option>
              <option repeat.for="category of categories" value.bind="category.ID">${category.name}</option>
            </select>
          </div>
        </div>
      </md-card>
      <md-card md-title="Time">
        <div class="row">
          <div class="col s12">
            <label class="active">Different end date :</label>
            <md-switch md-checked.bind="endDateDifferent" md-label-on="Yes" md-label-off="No"></md-switch>
          </div>
        </div>
        <div class="row">
          <div class="col ${endDateDifferent ? 's6 m3' : 's12 m6'} input-field">
            <label for="startDate" class="active">Start Date</label>
            <input id="startDate" md-datepicker="container: body; value.bind: startDate & validate;" type="date" placeholder="Start Date" />
          </div>
          <div class="col s6 ${endDateDifferent ? 'm3' : 'hide'} input-field">
            <label for="endDate" class="active">End Date</label>
            <input id="endDate" md-datepicker="container: body; value.two-way: endDate;" type="date" placeholder="End Date" />
          </div>
          <div class="col s6 m3">
            <md-input md-type="time" md-label="Start Time" md-value.bind="startTime & validate"></md-input>
          </div>
          <div class="col s6 m3">
            <md-input md-type="time" md-label="End Time" md-value.bind="endTime & validate"></md-input>
          </div>
        </div>
      </md-card>
      <md-card md-title="Informations">
        <div class="row">
          <div class="col s12">
            <md-input md-label="Comment" md-value.bind="comment & validate" validate="comment" md-text-area="true" class="scroll-h"></md-input>
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <label class="active">Break</label>
            <md-switch md-checked.bind="showBreak" md-label-on="Yes" md-label-off="No"></md-switch>
          </div>
        </div>
        <div class="row ${showBreak ? '' : 'hide'}">
          <div class="col s12 m3">
            <md-input md-type="time" md-label="Break Time" md-value.bind="breakTime"></md-input>
          </div>
          <div class="col s12 m9">
            <md-input md-label="Break Reason" md-value.bind="breakReason & validate"></md-input>
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <label class="active">Train</label>
            <md-switch md-checked.bind="showTrain" md-label-on="Yes" md-label-off="No"></md-switch>
          </div>
        </div>
        <div class="row ${showTrain ? '' : 'hide'}">
          <div class="col s6">
            <md-input md-type="time" md-label="Train Time" md-value.bind="trainTime"></md-input>
          </div>
          <div class="col s6">
            <md-input md-type="number" md-step="any" md-label="Train Price" md-validate="true" md-validate-error="invalid number" md-value.bind="trainPrice"></md-input>
          </div>
        </div>
      </md-card>
    </form>
  </div>
</template>
